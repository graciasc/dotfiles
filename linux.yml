- hosts: localhost
  pre_tasks:
    - name: Update apt
      shell: apt-get update
      tags:
        - zsh
        - node
    - name: Install curl
      apt: name=curl
      tags:
        - zsh
        - node

  tasks:
    - name: Install zsh
      apt: name=zsh
      tags:
        - zsh

    - name: Install ohmyzsh
      shell: curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh
      tags:
        - zsh

    - name: Change shell
      shell: chsh -s `which zsh`
      tags:
        - zsh

    - name: Install autosuggestions
      ansible.builtin.git:
        repo: https://github.com/zsh-users/zsh-autosuggestions.git
        dest: ~/.oh-my-zsh/plugins/zsh-autosuggestions
      tags:
        - zsh

    - name: install ripgrep
      apt: name=ripgrep
      tags:
        - zsh

    - name: Install neovim
      apt: name=neovim
      tags:
        - zsh

    - name: Install node
      apt:
        name: ["nodejs", "npm"]
      tags:
        - node

    - name: Install n
      npm:
        name: n
        global: true
      tags:
        - node

    - name: Install Tmux
      apt: name=tmux
      tags:
        - node

    - name: Install personal nvim
      ansible.builtin.git:
        repo: "https://git@github.com:graciasc/nvim.git"
        dest: "~.config"
        clone: true
        update: true
